



$ifi not %SMART%==yes $goto SMART_END
VEV_VG2V_BEV.UP(IY411,IR,S,T) = EV_BEV_Avail(IY411,S,T,IR) * EV_BEV_CHARGERCAP(IY411);
VEV_VG2V_PHEV.UP(IY411,IR,S,T) = EV_PHEV_Avail(IY411,S,T,IR) * EV_PHEV_CHARGERCAP(IY411);

VEV_VSOC_BEV.UP(IY411,IR,S,T) = EV_BEV_Max(IY411,S,T,IR)+0.1;
VEV_VSOC_PHEV.UP(IY411,IR,S,T) = EV_PHEV_Max(IY411,S,T,IR)+0.1;
VEV_VSOC_BEV.LO(IY411,IR,S,T) = EV_BEV_Min(IY411,S,T,IR);
VEV_VSOC_PHEV.LO(IY411,IR,S,T) = EV_PHEV_Min(IY411,S,T,IR);
*VEV_VSOC_BEV.fx(IY411,IR,S,'T052') = EV_BEV_Max(IY411,S,'T001',IR);
*VEV_VSOC_PHEV.fx(IY411,IR,S,'T052') = EV_PHEV_Max(IY411,S,'T001',IR);




$label  SMART_END



$ifi not %V2G%==yes $goto V2G_END
VEV_VG2V_BEV.UP(IY411,IR,S,T) = EV_BEV_Avail(IY411,S,T,IR) * EV_BEV_CHARGERCAP(IY411);
VEV_VG2V_PHEV.UP(IY411,IR,S,T) = EV_BEV_Avail(IY411,S,T,IR) * EV_PHEV_CHARGERCAP(IY411);
VEV_VG2V_BEV.LO(IY411,IR,S,T) = -1;
VEV_VG2V_PHEV.LO(IY411,IR,S,T) = -1;

VEV_VSOC_BEV.UP(IY411,IR,S,T) = EV_BEV_Max(IY411,S,T,IR)+0.1;
VEV_VSOC_PHEV.UP(IY411,IR,S,T) = EV_PHEV_Max(IY411,S,T,IR)+0.1;
VEV_VSOC_BEV.LO(IY411,IR,S,T) = EV_BEV_Min(IY411,S,T,IR);
VEV_VSOC_PHEV.LO(IY411,IR,S,T) = EV_PHEV_Min(IY411,S,T,IR);
*VEV_VSOC_BEV.fx(IY411,IR,S,'T001') = EV_BEV_Max(IY411,S,'T001',IR);
*VEV_VSOC_PHEV.fx(IY411,IR,S,'T001') = EV_PHEV_Max(IY411,S,'T001',IR);

VEV_VV2G_BEV.UP(IY411,IR,S,T) = EV_BEV_Avail(IY411,S,T,IR) * EV_BEV_CHARGERCAP(IY411);
VEV_VV2G_PHEV.UP(IY411,IR,S,T) = EV_PHEV_Avail(IY411,S,T,IR) * EV_PHEV_CHARGERCAP(IY411);
VEV_VV2G_BEV.LO(IY411,IR,S,T) = 0;
VEV_VV2G_PHEV.LO(IY411,IR,S,T) = 0;
$label  V2G_END


$ifi not %STEPCHARGSCHEME%==yes $goto STEPCHARGSCHEME_END
VEV_VG2V_BEV.UP(IY411,IR,S,T) = EV_BEV_Avail(IY411,S,T,IR) * EV_BEV_CHARGERCAP(IY411);
VEV_VG2V_PHEV.UP(IY411,IR,S,T) = EV_PHEV_Avail(IY411,S,T,IR) * EV_PHEV_CHARGERCAP(IY411);
VEV_VG2V_BEV.LO(IY411,IR,S,T) = 0;
VEV_VG2V_PHEV.LO(IY411,IR,S,T) = 0;

VEV_VSOC_BEV.UP(IY411,IR,S,T) = EV_BEV_Max(IY411,S,T,IR)+0.1;
VEV_VSOC_PHEV.UP(IY411,IR,S,T) = EV_PHEV_Max(IY411,S,T,IR)+0.1;
VEV_VSOC_BEV.LO(IY411,IR,S,T) = EV_BEV_Min(IY411,S,T,IR);
VEV_VSOC_PHEV.LO(IY411,IR,S,T) = EV_PHEV_Min(IY411,S,T,IR);
*VEV_VSOC_BEV.fx(IY411,IR,S,'T001') = EV_BEV_Max(IY411,S,'T001',IR);
*VEV_VSOC_PHEV.fx(IY411,IR,S,'T001') = EV_PHEV_Max(IY411,S,'T001',IR);

VEV_VV2G_BEV.UP(IY411,IR,S,T) = EV_BEV_Avail(IY411,S,T,IR) * EV_BEV_CHARGERCAP(IY411);
VEV_VV2G_PHEV.UP(IY411,IR,S,T) = EV_PHEV_Avail(IY411,S,T,IR) * EV_PHEV_CHARGERCAP(IY411);
VEV_VV2G_BEV.LO(IY411,IR,S,T) = 0;
VEV_VV2G_PHEV.LO(IY411,IR,S,T) = 0;


$label  STEPCHARGSCHEME_END

$ifi not %MIXEDFLEET%==yes $goto MIXEDFLEET_END
*Fleet1
VEV_VG2V_BEV_1.UP(IY411,IR,S,T) = EV_BEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet1') * EV_BEV_CHARGERCAP(IY411);
VEV_VG2V_PHEV_1.UP(IY411,IR,S,T) = EV_PHEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet1') * EV_PHEV_CHARGERCAP(IY411);
VEV_VG2V_BEV_1.LO(IY411,IR,S,T) = 0;
VEV_VG2V_PHEV_1.LO(IY411,IR,S,T) = 0;

VEV_VSOC_BEV_1.UP(IY411,IR,S,T) = (EV_BEV_Max_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet1'))+0.1;
VEV_VSOC_PHEV_1.UP(IY411,IR,S,T) = (EV_PHEV_Max_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet1'))+0.1;
VEV_VSOC_BEV_1.LO(IY411,IR,S,T) = EV_BEV_Min_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet1');
VEV_VSOC_PHEV_1.LO(IY411,IR,S,T) = EV_PHEV_Min_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet1');

VEV_VV2G_BEV_1.UP(IY411,IR,S,T) = EV_BEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet1') * EV_BEV_CHARGERCAP(IY411);
VEV_VV2G_PHEV_1.UP(IY411,IR,S,T) = EV_PHEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet1') * EV_PHEV_CHARGERCAP(IY411);
VEV_VV2G_BEV_1.LO(IY411,IR,S,T) = 0;
VEV_VV2G_PHEV_1.LO(IY411,IR,S,T) = 0;

*Fleet2
VEV_VG2V_BEV_2.UP(IY411,IR,S,T) = EV_BEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet2') * EV_BEV_CHARGERCAP(IY411);
VEV_VG2V_PHEV_2.UP(IY411,IR,S,T) = EV_PHEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet2') * EV_PHEV_CHARGERCAP(IY411);
VEV_VG2V_BEV_2.LO(IY411,IR,S,T) = 0;
VEV_VG2V_PHEV_2.LO(IY411,IR,S,T) = 0;

VEV_VSOC_BEV_2.UP(IY411,IR,S,T) = (EV_BEV_Max_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet2'))+0.1;
VEV_VSOC_PHEV_2.UP(IY411,IR,S,T) = (EV_PHEV_Max_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet2'))+0.1;
VEV_VSOC_BEV_2.LO(IY411,IR,S,T) = EV_BEV_Min_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet2');
VEV_VSOC_PHEV_2.LO(IY411,IR,S,T) = EV_PHEV_Min_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet2');

VEV_VV2G_BEV_2.UP(IY411,IR,S,T) = EV_BEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'BEV_Fleet2') * EV_BEV_CHARGERCAP(IY411);
VEV_VV2G_PHEV_2.UP(IY411,IR,S,T) = EV_PHEV_Avail_n(IY411,S,T,IR) * EV_FLEETSIZE(IY411,'PHEV_Fleet2') * EV_PHEV_CHARGERCAP(IY411);
VEV_VV2G_BEV_2.LO(IY411,IR,S,T) = 0;
VEV_VV2G_PHEV_2.LO(IY411,IR,S,T) = 0;


$label  MIXEDFLEET_END
